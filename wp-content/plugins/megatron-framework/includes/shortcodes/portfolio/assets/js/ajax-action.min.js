"use strict";var PortfolioAjaxAction={htmlTag:{load_more:".load-more",portfolio_container:"#portfolio-"},vars:{ajax_url:"",tab_category_action:"filter"},processFilter:function(j,A){var i=jQuery(j);if(jQuery(j).hasClass("ladda-button")){var w=Ladda.create(j);w.start()}else{PortfolioAjaxAction.startLoading(i)}var y=i.attr("data-load-type");var r=i.attr("data-overlay-style");var q=i.attr("data-section-id");var c=i.attr("data-source");var p=i.attr("data-portfolio-ids");var v=i.attr("data-show-paging");var u=i.attr("data-show-paging-masonry");var d=i.attr("data-current-page");var t=i.attr("data-category");var n=0;var m=i.attr("data-post-per-page");var h=i.attr("data-column");var b="";var k=i.attr("data-order");var s=i.attr("data-layout-type");var B=i.attr("data-bg-overlay");var z=i.attr("data-effect-overlay");var o=i.attr("data-responsive");var e=i.attr("data-table-item");var x=i.attr("data-small-table-item");var g=i.attr("data-isotope-col-width");var f=i.attr("data-image-size");var a=i.attr("data-to-top");if(y=="ajax"){if(jQuery(j).is("a")){jQuery("a.active",jQuery(j).parent().parent()).removeClass("active");jQuery("li.active",jQuery(j).parent().parent()).removeClass("active");jQuery(i).parent().addClass("active");jQuery(i).addClass("active")}}jQuery.ajax({url:PortfolioAjaxAction.vars.ajax_url,data:({action:"g5plusframework_portfolio_load_by_category",postsPerPage:m,current_page:d,layoutType:s,category:t,columns:h,colPadding:b,offset:0,order:k,data_source:c,portfolioIds:p,data_show_paging:v,overlay_style:r,data_section_id:q,bg_overlay:B,bg_effect_overlay:z,data_responsive:o,data_table_item:e,data_small_table_item:x,data_show_paging_masonry:u,imageSize:f}),success:function(E){if(jQuery(j).hasClass("ladda-button")){w.stop()}else{PortfolioAjaxAction.stopLoading(i)}if(y=="ajax"){PortfolioAjaxAction.registerFilterByCategory(q)}if(v=="1"){jQuery("#load-more-"+q).empty();jQuery("#paging-"+q).empty();if(jQuery(".paging",E).length>0){var D=jQuery(".paging a.load-more",E);D.attr("data-section-id",q);jQuery("#load-more-"+q).append(D);PortfolioAjaxAction.registerLoadmore()}if(jQuery(".portfolio-navigation-wrap",E).length>0){var G=jQuery(".portfolio-navigation-wrap",E);var F=jQuery("a",G);F.attr("data-section-id",q);jQuery("#paging-"+q).append(G);PortfolioAjaxAction.registerPaging()}}var I=jQuery("#portfolio-container-"+q);var H=jQuery(".portfolio-item",E);if(A==null||!A){if(!I.hasClass("owl-carousel")){if(typeof g!="undefined"&&g!=""){I.isotope({percentPosition:true,masonry:{columnWidth:g}})}else{I.isotope()}jQuery(".portfolio-item",I).each(function(){I.isotope("remove",jQuery(this))})}else{I.empty()}I.fadeOut();H.css("transition","all 0.3s");H.css("-webkit-transition","all 0.3s");H.css("-moz-transition","all 0.3s");H.css("-ms-transition","all 0.3s");H.css("-o-transition","all 0.3s");H.css("opacity",0)}else{H.fadeOut()}if(!I.hasClass("owl-carousel")){I.append(H).isotope("appended",H);var J=jQuery('div[data-section-id="'+q+'"]');J.imagesLoaded(function(){if(z=="hover-dir"){jQuery(".portfolio-item > div.thumb-wrap").hoverdir("destroy");jQuery(".portfolio-item > div.thumb-wrap").hoverdir("rebuild")}I.isotope({filter:"*"})})}else{I.append(H)}PortfolioAjaxAction.registerPrettyPhoto();var l=jQuery(I).data("owlCarousel");if(l!=null&&H.length>0){l.destroy();jQuery(I).owlCarousel({items:h,pagination:false,margin:30,navigation:true,navigationText:['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>']})}jQuery(".portfolio-item.hover-dir > div.thumb-wrap").hoverdir();if(y=="ajax"){I.fadeIn(10,function(){H.css("opacity",1)})}else{H.fadeIn();I.fadeIn()}if(typeof a!="undefined"&&a=="1"){var C=jQuery("#portfolio-"+q);jQuery("html, body").animate({scrollTop:C.offset().top},1000)}PortfolioAjaxAction.registerLoadmore(q);PortfolioAjaxAction.registerPaging(q)},error:function(){if(y=="ajax"){PortfolioAjaxAction.registerFilterByCategory(q)}}})},registerLoadmore:function(a){jQuery("a","#load-more-"+a).off();jQuery("a","#load-more-"+a).click(function(){PortfolioAjaxAction.processFilter(this,true)})},registerPaging:function(a){jQuery(".portfolio-navigation-wrap .nav-next a,.portfolio-navigation-wrap .nav-previous a","#paging-"+a).off();jQuery(".portfolio-navigation-wrap .nav-next a,.portfolio-navigation-wrap .nav-previous a","#paging-"+a).click(function(){PortfolioAjaxAction.processFilter(this,false)})},registerPrettyPhoto:function(){jQuery("a[data-rel^='prettyPhoto']").prettyPhoto({hook:"data-rel",theme:"light_rounded",slideshow:5000,deeplinking:false,social_tools:false})},registerFilterByCategory:function(a){var b=jQuery("#portfolio-"+a);jQuery(".portfolio-tabs li",b).each(function(){jQuery("a",jQuery(this)).off();jQuery("a",jQuery(this)).click(function(){PortfolioAjaxAction.processFilter(this,false)})});jQuery("select.mobile-category",b).off();jQuery("select.mobile-category",b).change(function(){var c=jQuery("option:selected",this);PortfolioAjaxAction.processFilter(c,false)})},registerFilterIsotopeMobile:function(){jQuery("select.mobile-category").change(function(){var b=jQuery("option:selected",this);var c=b.attr("data-filter");var a=b.attr("data-section-id");var d=jQuery("#portfolio-container-"+a);d.isotope({filter:c})})},wrapperContentResize:function(){jQuery("#wrapper-content").bind("resize",function(){var b=jQuery(".portfolio-wrapper");var a=jQuery(".portfolio-wrapper").data("owlCarousel");if(a==null){b.isotope({itemSelector:".portfolio-item"}).isotope("layout")}})},startLoading:function(b){var a=jQuery('<div class="loading-wrap"><span class="l-1 p-color-bg"></span><span class="l-2 p-color-bg"></span><span class="l-3 p-color-bg"></span><span class="l-4 p-color-bg"></span><span class="l-5 p-color-bg"></span><span class="l-6 p-color-bg"></span></div>');jQuery(b).before(a);jQuery(b).hide()},stopLoading:function(b){var a=jQuery(b).prev();if(typeof a!="undefined"&&a.hasClass("loading-wrap")){a.remove()}jQuery(b).show()},init:function(a,c,b){PortfolioAjaxAction.vars.ajax_url=a;PortfolioAjaxAction.vars.tab_category_action=c;PortfolioAjaxAction.registerLoadmore(b);PortfolioAjaxAction.registerPaging(b);PortfolioAjaxAction.registerPrettyPhoto();if(c=="ajax"){PortfolioAjaxAction.registerFilterByCategory(b)}else{PortfolioAjaxAction.registerFilterIsotopeMobile()}PortfolioAjaxAction.wrapperContentResize()}};